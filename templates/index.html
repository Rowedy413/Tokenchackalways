<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>FB Token Checker</title>
<link rel="stylesheet" href="/static/style.css">
<script src="/static/rain.js" defer></script>
</head>
<body style="background-image: url('{{ bg_url }}');">

<header>
    <h1>OWNER ROWEDY KIING</h1>
</header>

<div class="container">
    <form method="POST" enctype="multipart/form-data">
        <h2>Single Token Check</h2>
        <input type="text" name="single_token" placeholder="Enter Access Token">
        <button type="submit">Check Token</button>

        {% if single_result is not none %}
            {% if single_result.valid %}
                <div class="result valid">
                    <img src="{{ single_result.picture }}" width="50">
                    <strong>{{ single_result.name }}</strong> (ID: {{ single_result.id }})<br>
                    <small>{{ single_result.token }}</small>
                </div>
            {% else %}
                <div class="result invalid">Invalid Token</div>
            {% endif %}
        {% endif %}

        <hr>

        <h2>File Token Check</h2>
        <input type="file" name="token_file">
        <button type="submit">Upload & Check</button>

        {% if file_results.valid or file_results.invalid %}
            <h3>Valid Tokens ({{ file_results.valid|length }})</h3>
            {% for v in file_results.valid %}
                <div class="result valid">
                    <img src="{{ v.picture }}" width="50">
                    <strong>{{ v.name }}</strong> (ID: {{ v.id }})<br>
                    <small>{{ v.token }}</small>
                </div>
            {% endfor %}
            {% if file_results.valid %}
                <a href="{{ url_for('download_valid_tokens', **{'token': [v.token for v in file_results.valid]}) }}">Download Valid Tokens</a>
            {% endif %}

            <h3>Invalid Tokens ({{ file_results.invalid|length }})</h3>
            {% for inv in file_results.invalid %}
                <div class="result invalid">{{ inv }}</div>
            {% endfor %}
        {% endif %}
    </form>
</div>

<footer>
    DEVELOPED BY ROWEDY STYLIYSH
</footer>

<canvas id="rain"></canvas>
</body>
</html>
